import { getDatabase, set, ref } from "firebase/database";


export const createNewGame = (email, timeRange, questionId) => dispatch => {
    const id = sessionStorage.getItem('id');
    const gameId = Math.random().toString(14).slice(3, 8);
    const db = getDatabase();
    const data = {
        hostId: id,
        hostEmail: email,
        gameId: gameId,
        questionId: questionId,
        timeRange,
        isGameStarted: false,
        joinedPeople: [{ email: "bot@codeclasher.com", profilePic: "data:image/jpeg;base64,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" }]
    }
    set(ref(
        db, 'games/' + gameId
    ), data);
    sessionStorage.setItem('gameInfo', JSON.stringify(data))
    dispatch({ type: 'GAME_CREATED', payload: data });
}